{% extends "cluster.jinja2" %}

{% block contentCluster %}

<div id="aum" class="container-fluid">
  <div class="row-fluid">
    <div class="span12">
      <h3 align="center">Node Detail</h3>
    </div>
  </div>
  <div class="row-fluid">
    <div class="span12">

      <meta http-equiv="refresh" content="60;URL= '{{ cluster_url }}'">

      <p><b>Node ID :</b> {{ entry.id }}</p>
      <p><b>Hostname / IP Address :</b> {{ entry.node }}</p>
      <p><b>Username :</b> {{ entry.username }}</p>
      <p><b>Server type :</b>
        {% if entry.master == 0 %}
          Worker
        {% else %}
          Master
        {% endif %}
      </p>

      <hr>
      <h4 align="center">Services status</h4>

      <p><b>Ping :</b>
        {% if entry.serv_ping == 0 %}
          <font color="green">OK</font>
        {% elif entry.serv_ping == 1 %}
          <font color="red">ERROR</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b>SSH (connection made with the original user - tested only once):</b>
        {% if entry.serv_ssh == 0 %}
          <font color="green">OK</font>
        {% elif entry.serv_ssh == 1 %}
          <font color="red">ERROR: {{ entry.serv_ssh_status }} </font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b>MiniSecBGP :</b>
        {% if entry.serv_app == 0 %}
          <font color="green">OK</font>
        {% elif entry.serv_app == 1 %}
          <font color="red">ERROR: {{ entry.serv_app_status }} </font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <hr>
      <h4 align="center">Config / install status</h4>

      <p><b>User "minisecbgp" :</b>
        {% if entry.conf_user == 0 %}
          <font color="green">OK: {{ entry.conf_user_status }}</font>
        {% elif entry.conf_user == 1 %}
          <font color="red">ERROR: {{ entry.conf_user_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b>SSH config (minisecbgpuser connection) :</b>
        {% if entry.conf_ssh == 0 %}
          <font color="green">OK: {{ entry.conf_ssh_status }}</font>
        {% elif entry.conf_ssh == 1 %}
          <font color="red">ERROR: {{ entry.conf_ssh_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b>Install remote prerequisites :</b>
        {% if entry.install_remote_prerequisites == 0 %}
          <font color="green">OK: {{ entry.install_remote_prerequisites_status }}</font>
        {% elif entry.install_remote_prerequisites == 1 %}
          <font color="red">ERROR: {{ entry.install_remote_prerequisites_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b><a href="http://mininet.org/" target="_blank">Mininet :</a></b>
        {% if entry.install_mininet == 0 %}
          <font color="green">OK: {{ entry.install_mininet_status }}</font>
        {% elif entry.install_mininet == 1 %}
          <font color="red">ERROR: {{ entry.install_mininet_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b><a href="http://glaros.dtc.umn.edu/gkhome/metis/metis/overview" target="_blank">Metis :</a></b>
        {% if entry.install_metis == 0 %}
          <font color="green">OK: {{ entry.install_metis_status }}</font>
        {% elif entry.install_metis == 1 %}
          <font color="red">ERROR: {{ entry.install_metis_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b><a href="https://maxinet.github.io/" target="_blank">Maxinet :</a></b>
        {% if entry.install_maxinet == 0 %}
          <font color="green">OK: {{ entry.install_maxinet_status }}</font>
        {% elif entry.install_maxinet == 1 %}
          <font color="red">ERROR: {{ entry.install_maxinet_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

      <p><b><a href="https://containernet.github.io/" target="_blank">Containernet :</a></b>
        {% if entry.install_containernet == 0 %}
          <font color="green">OK: {{ entry.install_containernet_status }}</font>
        {% elif entry.install_containernet == 1 %}
          <font color="red">ERROR: {{ entry.install_containernet_status }}</font>
        {% else %}
          <font color="orange">Wait (Installing)</font>
        {% endif %}
      </p>

    </div>
  </div>
</div>

{% endblock contentCluster %}